<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="https://cdn.mxpnl.com/libs/mixpanel-platform/css/reset.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.mxpnl.com/libs/mixpanel-platform/build/mixpanel-platform.v0.latest.min.css">
    <script src="https://cdn.mxpnl.com/libs/mixpanel-platform/build/mixpanel-platform.v0.latest.min.js"></script>
  </head>
  <body class="mixpanel-platform-body">
    <div id="report_body">
      <div id="datePicker"></div>
      <div id="event1"></div>
      <div id="event2"></div>
      <div id="graph"></div>
    </div>
    <style>
      #datePicker {
        position:absolute;
        top:320px;
      }
      #report_body {
        border-radius: 25px;
        background: #f0f2f6;
        padding: 20px; 
        width: 905px;
        height: 600px; 
        position: absolute;
        top: 25px;
      }
      #graph {
        postion:relative;
        top: 300px;
      }
    </style>
    <script>
    
      var data = {
        'segment1': 10,
        'segment2': 20,
        'segment3': 40
      };
      $(document).ready(function() {
          var barChart = $('#graph').appendTo('body').MPChart({chartType: 'bar'});    
          barChart.MPChart('setData', data);                                              
      });
      
      var eventSelect = $('#event1').appendTo('body').MPEventSelect();
      eventSelect.on('change', function(e, selection) {                    
          alert(selection);
      });
      
      var eventSelect = $('#event2').appendTo('body').MPEventSelect();
      eventSelect.on('change', function(e, selection) {                    
          alert(selection);
      });
    
      $('#datePicker').MPDatepicker().on('change', function(event, dateRange) {
      console.log(dateRange.from);
      console.log(dateRange.to);
      });
      var datepicker = $('#datePicker').MPDatepicker();
      var dates = datepicker.val();
      var to_date = dates.to.toISOString().substring(0,10);
      console.log(to_date)
      // Run queries and display results here
    </script>
  </body>
</html>
